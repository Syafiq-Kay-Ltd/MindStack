<!-- TOKEN: 8b95d5b5c6d8e246e59133be5b75630018ee377033b4a516b3f9989d954ced36 -->
{% extends 'cortexdb_main.html' %}

{% block cortexdb_content %}
<div class="container">
  {% for row in note_rows %}
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-4">
      {% for note in row %}
        {% if note %}
        <div class="col">
          <div class="card h-100 shadow-sm">
            <h5 class="card-header">{{ note.title }}</h5>
            <div class="card-body d-flex flex-column">
              <p class="card-text" style="
                display: -webkit-box;
                -webkit-line-clamp: 4;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
                min-height: 100px;
              ">
                {{ note.content }}
              </p>
              <div class="mt-auto">
                <a href="{% url 'cortexdb:notes-detail' note.note_id %}" class="btn btn-sm btn-outline-primary me-2">View</a>
                <a href="{% url 'cortexdb:notes-update' note.note_id %}" class="btn btn-sm btn-outline-secondary">Edit</a>
              </div>
            </div>
            <div class="card-footer text-muted small">
              Last edited: {{ note.updated_at }}
            </div>
          </div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endfor %}
</div>
{% endblock %}
